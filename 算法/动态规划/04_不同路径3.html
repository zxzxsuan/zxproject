<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function fn(m,n){
            var dp = new Array(n);
            for(var i = 0;i<n;i++){
                dp[i] = new Array(m).fill(0);
            }
            return dp;

        }
        console.log(fn(7,3))


        /**
 * @param {number[][]} obstacleGrid
 * @return {number}
 */
var uniquePathsWithObstacles = function(obstacleGrid) {
    // 行
    var n = obstacleGrid.length;
    // 列
    var m = obstacleGrid[0].length;
    // 初始化
    var dp = new Array(n);
    for(var i = 0;i<n;i++){
        dp[i] = new Array(m).fill(0);
    }
    dp[0][0] = obstacleGrid[0][0] == 0 ? 1 : 0;
    // 如果起点就是障碍物
    if(dp[0][0] == 0){
        return 0 ;
    }
    // 第一行
    for(var j = 1;j < m;j++){
        if(obstacleGrid[0][j] != 1){
            dp[0][j] = dp[0][j-1];
        }
    }
    // 第一列
    for(var r = 1;r < n;r++){
        if(obstacleGrid[r][0] != 1){
            dp[r][0] = dp[r-1][0];
        }
    }
    // 动态递推
    for(var i = 1;i < n;i++){
        for(var r = 1;r < m;r++){
            if(obstacleGrid[i][r] != 1){
                dp[i][r] = dp[i-1][r] +dp[i][r-1];
            }
        }
    }
    return dp[n-1][m-1];
};


// var uniquePathsWithObstacles = function(obstacleGrid) {
//         let col=obstacleGrid.length;
//         let row=obstacleGrid[0].length;
//         let dp=new Array();
//         for(let i=0;i<row;i++){
//             dp[i]=new Array(col).fill(0);
//         }
//         dp[0][0]=obstacleGrid[0][0]==1?0:1;
//         if(dp[0][0]==0){
//             return 0;
//         }
//         for(let i=1;i<col;i++){
//             if(obstacleGrid[0][i]!=1){
//                 dp[0][i]=dp[0][i-1];
//             }
//         }
//         for(let k=1;k<row;k++){
//             if(obstacleGrid[k][0]!=1){
//                 dp[k][0]=dp[k-1][0];
//             }
//         }
//         for(let i=1;i<row;i++){
//             for(let j=1;j<col;j++){
//                 if(obstacleGrid[i][j]!=1){
//                     dp[i][j]=dp[i-1][j]+dp[i][j-1];
//                 }
                
//             }
//         }
//         return dp[row-1][col-1];
// };
    </script>
</body>
</html>