<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #div1 {
            height: 1000px;
            /* width: 200px;
            background-color: pink; */
        }
    </style>
</head>

<body>
    <div id="div1"></div>
    <img src="20180305223448_nzwsy.jpg" data-src="../html/20191110001322_jotjw.jpg" />

    <script>
        let img = document.getElementsByTagName("img");
        let num = img.length;
        let count = 0; //计数器，从第一张图片开始计

        lazyload(); //首次加载别忘了显示图片

        window.addEventListener('scroll', lazyload);

        function lazyload() {
            let viewHeight = document.documentElement.clientHeight; //视口高度
            console.log(viewHeight)
            let scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //滚动条卷去的高度
            for (let i = count; i < num; i++) {
                // 元素现在已经出现在视口中
                if (img[i].offsetTop < scrollTop + viewHeight) {
                    if (img[i].getAttribute("src") !== "20180305223448_nzwsy.jpg") continue;
                    img[i].src = img[i].getAttribute("data-src");
                    count++;
                }
            }
        }
        // function findMax(str){
        //     var temp=[];
        //     var test='ATCG';
        //     var arr=[];

        //     var result=[]
        //     temp=str.split("");
        //     temp.forEach((item,index)=>{
        //         if(test.indexOf(item)!=-1){
        //             arr.push(index);
        //         }
        //     });
        //     var count=1;
        //     for(let i=0;i<arr.length-1;i++){

        //         if(arr[i]+1==arr[i+1]){
        //             count+=1;

        //         }else{
        //             count=1;
        //         }
        //             result.push(count);

        //     }
        //     console.log(result);
        //     if(result.length==0){
        //         return 0;
        //     }else if(result.length==1){
        //         return result[0];
        //     }else{
        //         let max=0;
        //         for(let j=0;j<result.length;j++){
        //             if(result[j]>max){
        //                 max=result[j];
        //             }
        //         }
        //         return max;
        //     }
        // }
        // console.log(findMax("ABCBOATCER"));
        // function printArr(arr){
        //     var i=0;
        //     console.log(arr[i++])
        //     var timer=setInterval(function(){
        //         if(i<arr.length){
        //             console.log(arr[i++])
        //         }else{
        //             clearInterval(timer)
        //         }
        //     },1000)
        // }
        // printArr([1,22,5,8,86])


        // function zigzagLevelOrder(root){
        //     var res=[];var temp=[root],flag=true;
        //     while(temp.length!=0){
        //         var curr=[],currArr=[];
        //         while(temp.length!=0){
        //             var currNode=temp.shift();
        //             currArr.push(currNode.val);
        //             if(currNode.left){
        //                 curr.push(currNode.left)
        //             }
        //             if(currNode.right){
        //                 curr.push(currNode.right)
        //             }
        //         }
        //         temp=curr;
        //         if(!flag){
        //             res.push(currArr.reverse())
        //         }else{
        //             res.push(currArr)
        //         }
        //     }
        //     return res
        // }


        // function sonTree(rootA,rootB){
        //     if(!rootA||!rootB) return false;
        //     return sameTree(rootA,rootB)||sonTree(rootA.left,rootB)||sonTree(rootA.right,rootB)
        //     function sameTree(a,b){
        //         if(!b){
        //             return true
        //         }
        //         if(!a||a.val!=b.val){
        //             return false;
        //         }
        //         return sameTree(a.left,b.left)&&sameTree(a.right,b.right)
        //     }
        // }

        // function _new(){
        //     var obj={};
        //     var con=[].shift.call(arguments);
        //     obj.__proto__=con.prototype;
        //     var res=con.apply(obj,arguments);
        //     return typeof res=='object'?res:obj
        // }

        // function People(name){
        //     this.name=name;
        // }
        // People.prototype.eat=function(){
        //     console.log(123)
        // }
        // console.log(People.prototype)
        // //Student是构造函数
        // //Student.prototype是原型对象
        // //原型对象的__proto__是父级原型对象
        // //s1是实例化对象
        // //s1.__proto__是原型对象
        // function Student(name){
        //    // People.call(this,name)

        // }
        // Student.prototype=new People()
        // Student.prototype.think=function(){
        //     console.log('thinking')
        // }
        // Student.prototype.constructor=Student;
        // console.log(Student)
        // console.log(Student.prototype)
        // console.log(Student.prototype.__proto__)
        // let s1=new Student('zx');
        // console.log(s1.__proto__)

        //     var oDiv1=document.getElementById('div1')
        //     window.addEventListener('scroll',debounce(aa,1000)) 
        //     function aa(){
        //         console.log(document.documentElement.scrollTop)
        //     }   
        //     function debounce(fn,delay){
        //         var timer=null;
        //         return function(){
        //             if(timer!=null){
        //                 clearTimeout(timer);
        //             }

        //             timer=setTimeout(fn,delay)

        //         }
        //     }
        //    var jsonp=({url,params,callbackName})=>{
        //        function generateUrl(){
        //            let dataStr='';
        //            for(let key in params){
        //                dataStr+=`${key}=${params[key]}&`
        //            }
        //            dataStr+=`callback=${callbackName}`
        //            return `${url}?${dataStr}`
        //        }
        //        return new Promise((resolve,reject)=>{
        //            let script=document.createElement("script");
        //            script.src=generateUrl();
        //             document.appendChild(script);
        //             window[callbackName]=data=>{
        //                 resolve(data);
        //                 document.body.remove(script)
        //             }
        //        })
        //    }
        //    jsonp({url:"http://localhost:3000",
        //         params:{
        //             a:1
        //         },
        //         callbackName:show
        // }).then(data=>console.log(data))

        // if (!digits) { return []; }
        // const strMap = ["", "", "abc", "def", "ghi", "jkl", "mno", "pqrs", "tuv", "wxyz"];
        // let result = [""];  //初始化一个空字符，方便后续遍历
        // for (let num of digits) {   //遍历输入的数字
        //     let nextResult = [];
        //     let str = strMap[num];     //找到数字可能对应的字符
        //     for (let t of result) {     //遍历上一循环生成的字符串列表
        //         for (let s of str) {    //遍历当前数字可能对应的字符
        //             nextResult.push(t + s);     //拼接字符串
        //         }
        //     }
        //     result = nextResult;    //替换原字符串列表
        // }
        // return result;


        // var removeDuplicates = function (nums) {
        //     for (let i = 0; i < nums.length; i++) {
        //         if (nums[i] == nums[i + 1]) {
        //             nums.splice(i, 1);
        //             i--
        //         }
        //     }
        //     return nums
        // };
        // console.log(removeDuplicates([1,1,2]))

        // function mySetInterVal(fn, a, b) {
        //     let timeCount = 0;
        //     let timer
        //     const loop = () => {
        //         timer = setTimeout(() => {
        //             if(timeCount<=2){
        //                 fn()
        //             timeCount++;
        //             loop()
        //             }

        //         }, a + timeCount * b)
        //     }
        //     loop()
        //     return () => {
        //         clearTimeout(timer)
        //     }
        // }
        // mySetInterVal(() => console.log("aa"), 1000, 1000)

        var findNumberIn2DArray = function (matrix, target) {
            var left=matrix.length-1,bottom=0;
            while(left>=0&&bottom<matrix[0].length){
                if(matrix[left][bottom]==target){
                    return true;
                }else if(matrix[left][bottom]<target){
                    bottom++;
                }else{
                    left--;
                }
            }
            return false
        };
       console.log(findNumberIn2DArray([[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]],20))
    </script>

</body>

</html>